-- 1.创建数据库 library，如果不存在
CREATE DATABASE IF NOT EXISTS library;
-- 如果该数据库不存在,创建一个名为 library 的数据库。

-- 2.选择使用 library 数据库
USE library;
-- 选择使用 library 数据库。

-- 3.创建用户表 users，如果不存在
CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(50) NOT NULL,
    user_type VARCHAR(20) NOT NULL
);
-- 创建管理员账户
INSERT INTO users (username, password, user_type) VALUES ('admin', 'admin', '管理员');

-- 创建一个名为 users 的表，包含 id、username、password 和 user_type 列。

-- 4.创建图书表 books，如果不存在
CREATE TABLE IF NOT EXISTS books (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    author VARCHAR(100),
    type VARCHAR(50),
    status VARCHAR(20) DEFAULT '在库'
);
-- 创建一个名为 books 的表，包含 id、title、type 和 status 列。status 列默认为 '在库'。

-- 5.创建借阅表 borrowings，如果不存在
CREATE TABLE IF NOT EXISTS borrowings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    book_id INT,
    borrow_date DATE,
    return_date DATE,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (book_id) REFERENCES books(id)
);
-- 创建一个名为 borrowings 的表，包含 id、user_id、book_id、borrow_date 和 return_date 列。user_id 和 book_id 分别是对应用户表和图书表的外键。

-- 6.创建留言表 messages，如果不存在
CREATE TABLE IF NOT EXISTS messages (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    content TEXT,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
-- 创建一个名为 messages 的表，包含 id、user_id、content 和 timestamp 列。user_id 是对应用户表的外键。

/*
1. 用户表 - users:
id (主键): 用户唯一标识符。
username: 用户名。
password: 用户密码。
user_type: 用户类型，用于区分普通用户和管理员。

2. 图书表 - books:
id (主键): 图书唯一标识符。
title: 图书标题。
type: 图书类型。
status: 图书状态， 默认为 'available'（可用）。

3. 借阅表 - borrowings:
id (主键): 借阅记录唯一标识符。
user_id (外键): 关联到用户表的用户唯一标识符。
book_id (外键): 关联到图书表的图书唯一标识符。
borrow_date: 借阅日期。
return_date: 归还日期。
关系:
user_id 在 borrowings 表中是对应于 users 表中用户的外键。
book_id 在 borrowings 表中是对应于 books 表中图书的外键。

4. 留言表 - messages:
id (主键): 留言唯一标识符。
user_id (外键): 关联到用户表的用户唯一标识符。
content: 留言内容。
timestamp: 留言时间戳。
关系:
user_id 在 messages 表中是对应于 users 表中用户的外键。

表之间的关系:
每个用户（users表中的每一行）可以有零个或多个借阅记录（borrowings表中的每一行），通过 user_id 进行关联。
每本图书（books表中的每一行）可以有零个或多个借阅记录（borrowings表中的每一行），通过 book_id 进行关联。
每个用户（users表中的每一行）可以有零个或多个留言（messages表中的每一行），通过 user_id 进行关联。

*/


/*
添加书籍
*/
INSERT INTO books (title, author, type)
VALUES
('《三体》','刘慈欣','科幻类'),
('《银河帝国》','艾萨克·阿西莫夫','科幻类'),
('《草地英雄》','埃尔南多·安格尔·曼努埃尔','科幻类'),
('《流浪地球》','刘慈欣','科幻类'),
('《瓦尔登湖》','亨利·戴维·梭罗','科幻类'),
('《时间机器》','H.G.威尔斯','科幻类'),
('《黑暗森林》','刘慈欣','科幻类'),
('《霍乱时期的爱情》','加西亚·马尔克斯','科幻类'),
('《银河系漫游指南》','道格拉斯·亚当斯','科幻类'),
('《穿越时空的少女》','乌尔斯拉·勒瑟·吉恩','科幻类'),
('《星际迷航》系列','各作者','科幻类'),
('《机器人系列》','艾萨克·阿西莫夫','科幻类'),
('《2001太空漫游》','亚瑟·C·克拉克','科幻类'),
('《迷雾之子》','阿尔弗雷德·贡佐尔','科幻类'),
('《1984》','乔治·奥威尔','科幻类'),
('《星河帝国》','艾萨克·阿西莫夫','科幻类'),
('《失控》','凯文·凯利','科幻类'),
('《地球往事》','严歌苓','科幻类'),
('《基地》','艾萨克·阿西莫夫','科幻类'),
('《流浪地球》','刘慈欣','科幻类'),
('《穿越时空的少女》','乌尔斯拉·勒瑟·吉恩','科幻类'),
('《雨果获奖作品集》','各作者','科幻类'),
('《银河英雄传说》','田中芳树','科幻类'),
('《雪崩》','斯图尔特·德·布洛斯','科幻类'),
('《黑镜》','查理·布鲁克','科幻类'),
('《火星三部曲》','金·斯坦利·罗宾逊','科幻类'),
('《地心游记》','儒勒·凡尔纳','科幻类'),
('《生命之书》','阿尔杰米诺·约瑟佛','科幻类'),
('《钢铁是怎样炼成的》','尼古拉·奥斯特洛夫斯基','科幻类'),
('《绿皮书》','毛姆','科幻类'),
('《银翼杀手》','菲利普·K·狄克','科幻类'),
('《神经漫游者》','威廉·吉布森','科幻类'),
('《超时空接触》','卡尔·萨根','科幻类'),
('《光明》','M.约翰·哈里森','科幻类'),
('《银河漫游指南》','道格拉斯·亚当斯','科幻类'),
('《机械公敌》','伊萨克·阿西莫夫','科幻类'),
('《圈子》','戴维·艾格曼','科幻类'),
('《不设防的家》','埃里克·弗兰克·罗素','科幻类'),
('《赤裸裸的孩子》','伊恩·麦克尤恩','科幻类'),
('《雪球地球》','刘慈欣','科幻类'),
('《震源》','艾萨克·阿西莫夫','科幻类'),
('《银河帝国与地球帝国》','艾萨克·阿西莫夫','科幻类'),
('《暗物质》','布莱克·库珀','科幻类'),
('《时间的秩序》','卡洛·罗韦利','科幻类'),
('《与神对话》','尼尔·盖曼','科幻类'),
('《荒野生存指南》','乔·希尔曼','科幻类'),
('《骇客帝国》','威廉·吉布森','科幻类'),
('《黑色孤儿》','刘慈欣','科幻类'),
('《火星之光》','亚瑟·C·克拉克','科幻类'),
('《极乐世界》','阿尔多斯·赫胥黎','科幻类'),
('《人类简史》','尤瓦尔·赫拉利','历史类'),
('《枪炮、病菌与钢铁》','贾雷德·戴蒙德','历史类'),
('《大域历史》','达伦·阿瑟','历史类'),
('《第二次世界大战回忆录》','温斯顿·丘吉尔','历史类'),
('《世界的毁灭》','乔尔·明格斯','历史类'),
('《文明的故事》','威尔·杜兰特','历史类'),
('《人类群星闪耀时》','StefanZweig','历史类'),
('《帝国的辉煌》','西奥多·德赛','历史类'),
('《东亚文明的奇迹》','马修·怀特','历史类'),
('《法国大革命》','赫伯特·鲁辛','历史类'),
('《亨利八世》','亚历山大·狄尔','历史类'),
('《文艺复兴：欧洲的重生》','保罗·约翰逊','历史类'),
('《毛泽东传》','约瑟夫·查尼','历史类'),
('《一战风云》','费利克斯·吉尔伯特','历史类'),
('《古典帝国的荣光与崩溃》','伯拉罕·阿斯奎斯','历史类'),
('《南京大屠杀》','伊安·伯西特','历史类'),
('《拿破仑》','安德鲁·罗伯茨','历史类'),
('《英国史》','彼得·艾克罗伊德','历史类'),
('《西方文明史》','罗伯特·科尔维尔','历史类'),
('《史记》','司马迁','历史类'),
('《东京审判》','约瑟夫·查尼','历史类'),
('《法国史》','约瑟夫·伯斯托','历史类'),
('《东方的世界：从亚历山大到吉斯·汗》','约瑟夫·伯斯托','历史类'),
('《被束缚的种族》','詹姆斯·伯恩汉姆','历史类'),
('《恶魔之城：南丁格尔的伦敦》','皮特·阿克罗伊德','历史类'),
('《巴黎公社》','卡尔·马克思','历史类'),
('《现代日本的起源》','贝茨·巴内特','历史类'),
('《伯林回忆录》','伊萨奇·伯林','历史类'),
('《斯大林：苏联的建设者和统治者》','伯恩·沙利文','历史类'),
('《民主的两百年》','伊尔·封','历史类'),
('《历史的终结》','弗朗西斯·福山','历史类'),
('《尼安德特人》','赫尔曼·霍普斯特德','历史类'),
('《光辉的悲剧：拿破仑征服埃及》','佩尔西瓦尔·塔拉尔','历史类'),
('《文艺复兴与改革》','马丁·路德','历史类'),
('《英国的枢机主教》','费尔南德·布劳德','历史类'),
('《霍乱时期的爱情》','加西亚·马尔克斯','历史类'),
('《历史的盲点》','托马斯·凯恩斯','历史类'),
('《历史的结构》','列维·斯特劳斯','历史类'),
('《殖民地主义的实质》','约瑟夫·庞齐','历史类'),
('《社会契约》','让-雅克·卢梭','历史类'),
('《哈姆雷特》','威廉·莎士比亚','历史类'),
('《萧条时期的文学与艺术》','弗雷德里克·路易斯','历史类'),
('《美国自由的征程》','约翰·肖','历史类'),
('《百年孤独》','加西亚·马尔克斯','历史类'),
('《伊斯兰教的崛起》','赫勒尔·贝洛克','历史类'),
('《十日谈》','杰弗里·乔叟','历史类'),
('《博物志》','贾桂琴','历史类'),
('《十三个月》','席勒','历史类'),
('《近代资本主义的起源》','赫伯特·斯宾塞','历史类'),
('《帝国的病症》','戴维·肯尼迪','历史类'),
('《人类简史》','尤瓦尔·赫拉利','心理类'),
('《思考，快与慢》','丹尼尔·卡尼曼','心理类'),
('《心理学与生活》','理查德·J·格里格','心理类'),
('《乌合之众》','古斯塔夫·勒庞','心理类'),
('《了不起的盖茨比》','F.ScottFitzgerald','心理类'),
('《影响力》','罗伯特·西奥迪尼','心理类'),
('《激发乐观》','马丁·塞利格曼','心理类'),
('《精神病的心理治疗》','维克多·弗兰克尔','心理类'),
('《情绪智商》','大卫·戈尔曼','心理类'),
('《心理学的顶峰》','马丁·塞利格曼','心理类'),
('《社会心理学》','戴维·迈尔斯','心理类'),
('《沟通的艺术》','戴尔·卡耐基','心理类'),
('《激活爱的五种语言》','加里·查普曼','心理类'),
('《刻意练习》','安德斯·艾利克森','心理类'),
('《厚黑学》','李宗吾','心理类'),
('《了不起的盖茨比》','F.ScottFitzgerald','心理类'),
('《乌合之众》','古斯塔夫·勒庞','心理类'),
('《影响力》','罗伯特·西奥迪尼','心理类'),
('《人性的弱点》','戴尔·卡耐基','心理类'),
('《激发乐观》','马丁·塞利格曼','心理类'),
('《社会心理学》','戴维·迈尔斯','心理类'),
('《精神分析引论》','西格蒙德·弗洛伊德','心理类'),
('《黑天鹅》','尼古拉斯·塔勒布','心理类'),
('《犹太人的智慧》','理查德·斯蒂格勒','心理类'),
('《异类》','马尔科姆·格拉德威尔','心理类'),
('《情绪的解析》','丹尼尔·戈尔曼','心理类'),
('《终身成长》','卡罗尔·德韦克','心理类'),
('《动机与人格》','亚伯拉罕·马斯洛','心理类'),
('《走出心理创伤》','彼得·A·列文','心理类'),
('《自卑与超越》','阿尔弗雷德·阿德勒','心理类'),
('《爱的艺术》','伊·弗洛姆','心理类'),
('《思考，快与慢》','丹尼尔·卡尼曼','心理类'),
('《深度工作》','卡尔·纽波特','心理类'),
('《儿童心理学》','约翰·桑德弗','心理类'),
('《生命中不能承受之轻》','米兰·昆德拉','心理类'),
('《情绪智力》','大卫·戈尔曼','心理类'),
('《教养的艺术》','欧内斯特·海明威','心理类'),
('《独自面对困境》','M·斯科特·派克','心理类'),
('《理性乐观派》','马特·里德利','心理类'),
('《情感焦点疗法》','莱斯·格林伯格','心理类'),
('《自控力》','罗伊·巴伦','心理类'),
('《激活爱的五种语言》','加里·查普曼','心理类'),
('《人性的弱点》','戴尔·卡耐基','心理类'),
('《洗脑术》','威廉·萨金特','心理类'),
('《脑洞大开》','斯蒂芬·洛夫','心理类'),
('《正面管教》','简·尼尔森','心理类'),
('《思考，快与慢》','丹尼尔·卡尼曼','心理类'),
('《爱的五种语言》','加里·查普曼','心理类'),
('《非暴力沟通》','马歇尔·卢森堡','心理类'),
('《自由选择》','西奥多·阿登琴','心理类'),
('《平凡的世界》','路遥','哲理类'),
('《活着》','余华','哲理类'),
('《挪威的森林》','村上春树','哲理类'),
('《白夜行》','东野圭吾','哲理类'),
('《人间失格》','太宰治','哲理类'),
('《追风筝的人》','卡勒德·胡赛尼','哲理类'),
('《围城》','钱锺书','哲理类'),
('《1984》','乔治·奥威尔','哲理类'),
('《三体》','刘慈欣','哲理类'),
('《红楼梦》','曹雪芹','哲理类'),
('《牧羊少年奇幻之旅》','保罗·柯艾略','哲理类'),
('《小王子》','圣埃克苏佩里','哲理类'),
('《麦田里的守望者》','杰罗姆·大卫·塞林格','哲理类'),
('《百年孤独》','加西亚·马尔克斯','哲理类'),
('《时间旅行者的妻子》','奥德莉·尼芙内格','哲理类'),
('《沉默的大多数》','王小波','哲理类'),
('《我是猫》','夏目漱石','哲理类'),
('《失乐园》','约翰·弥尔顿','哲理类'),
('《与神对话》','尼尔·盖曼','哲理类'),
('《人生》','余华','哲理类'),
('《百鬼夜行物语》','藤本弘','哲理类'),
('《解忧杂货店》','东野圭吾','哲理类'),
('《沙海》','九把刀','哲理类'),
('《月亮与六便士》','毛姆','哲理类'),
('《人类简史》','尤瓦尔·赫拉利','哲理类'),
('《禅者的信箱》','鲍勃·奥尔登','哲理类'),
('《白鹿原》','陈忠实','哲理类'),
('《白夜行》','东野圭吾','哲理类'),
('《迷人的理发师》','卫斯理','哲理类'),
('《看见》','柴静','哲理类'),
('《兄弟》','余华','哲理类'),
('《平原上的摩西》','本杰明·肖','哲理类'),
('《活出生命的意义》','维克多·弗兰克尔','哲理类'),
('《岛上书店》','加布瑞埃拉·泽文','哲理类'),
('《心有林夕》','林夕','哲理类'),
('《海边的卡夫卡》','村上春树','哲理类'),
('《月亮忘記了》','陈平','哲理类'),
('《看见》','柴静','哲理类'),
('《夜莺与玫瑰》','奥斯卡·王尔德','哲理类'),
('《一个人的朝圣》','保罗·柯艾略','哲理类'),
('《扶桑》','林清玄','哲理类'),
('《光辉岁月》','席慕容','哲理类'),
('《我不喜欢这个世界，我只喜欢你》','乔一','哲理类'),
('《天使与魔鬼》','丹·布朗','哲理类'),
('《菊与刀》','鲁思·本尼迪克特','哲理类'),
('《解忧杂货店》','东野圭吾','哲理类'),
('《小王子》','圣埃克苏佩里','哲理类'),
('《纳尔尼亚传奇》','C·S·刘易斯','哲理类'),
('《乌合之众》','古斯塔夫·勒庞','哲理类'),
('《悲惨世界》','维克多·雨果','哲理类');


